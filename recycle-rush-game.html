<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recycle Rush</title>
    
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>Recycle Rush</h1>
            <div>Cr√©ditos: <span id="credits">0</span></div>
        </div>
        <div id="clickerArea" class="clickable-area">‚ôªÔ∏è</div>
        <div>Cr√©ditos por click: <span id="creditsPerClick">1</span></div>
        <div>Cr√©ditos por segundo: <span id="creditsPerSecond">0</span></div>
        <div class="tabs">
            <div class="tab active" data-tab="personal">Personal</div>
            <div class="tab" data-tab="office">Oficina</div>
            <div class="tab" data-tab="team">Equipo</div>
        </div>
        <div id="upgradesContainer"></div>
        <div class="bottom-nav">
            <div class="nav-item">Ganar</div>
            <div class="nav-item" style="background-color: #f59e0b;">Mejorar</div>
            <div class="nav-item">Ciudad</div>
            <div class="nav-item">Amiguis</div>
            <div class="nav-item">Misiones</div>
        </div>
    </div>

    <div id="upgradeModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalTitle"></h2>
            <div id="modalIcon" class="modal-icon"></div>
            <p id="modalEffect"></p>
            <p id="modalCost"></p>
            <button id="confirmUpgrade" class="upgrade-button">Mejorar</button>
        </div>
    </div>

    <script>
        let credits = 0;
        let creditsPerClick = 1;
        let creditsPerSecond = 0;
        const upgradesData = {
            personal: [
                { name: "Reciclaje B√°sico", baseEffect: 1, baseCost: 10, effect: 1, cost: 10, count: 0, image: "‚ôªÔ∏è", type: "click" },
                { name: "Compostaje", baseEffect: 1, baseCost: 50, effect: 1, cost: 50, count: 0, image: "üçÇ", type: "auto" },
                { name: "Energ√≠a Solar", baseEffect: 5, baseCost: 200, effect: 5, cost: 200, count: 0, image: "‚òÄÔ∏è", type: "auto" },
                { name: "Reforestaci√≥n", baseEffect: 10, baseCost: 1000, effect: 10, cost: 1000, count: 0, image: "üå≥", type: "auto" }
            ],
            office: [
                { name: "Papel Reciclado", baseEffect: 20, baseCost: 5000, effect: 20, cost: 5000, count: 0, image: "üìÑ", type: "auto" },
                { name: "Iluminaci√≥n LED", baseEffect: 50, baseCost: 20000, effect: 50, cost: 20000, count: 0, image: "üí°", type: "auto" },
                { name: "Gesti√≥n de Residuos", baseEffect: 100, baseCost: 100000, effect: 100, cost: 100000, count: 0, image: "üóëÔ∏è", type: "auto" }
            ],
            team: [
                { name: "Equipo Verde", baseEffect: 200, baseCost: 500000, effect: 200, cost: 500000, count: 0, image: "üë•", type: "auto" },
                { name: "Campa√±a Ecol√≥gica", baseEffect: 500, baseCost: 2000000, effect: 500, cost: 2000000, count: 0, image: "üì¢", type: "auto" },
                { name: "Innovaci√≥n Sostenible", baseEffect: 1000, baseCost: 10000000, effect: 1000, cost: 10000000, count: 0, image: "üí°", type: "auto" }
            ]
        };

        function updateCredits() {
            document.getElementById('credits').textContent = Math.floor(credits);
            document.getElementById('creditsPerClick').textContent = creditsPerClick;
            document.getElementById('creditsPerSecond').textContent = creditsPerSecond;
        }

        function createUpgradeItems() {
            const container = document.getElementById('upgradesContainer');
            container.innerHTML = ''; // Clear previous upgrades
            const activeTab = document.querySelector('.tab.active').getAttribute('data-tab');
            upgradesData[activeTab].forEach((upgrade, index) => {
                const item = document.createElement('div');
                item.className = 'upgrade-item';
                item.innerHTML = `
                    <div class="upgrade-info">
                        <div class="upgrade-image">${upgrade.image}</div>
                        <div class="upgrade-details">
                            <div class="upgrade-name">${upgrade.name}</div>
                            <div class="upgrade-effect">+${upgrade.effect} cr√©ditos/${upgrade.type === 'click' ? 'click' : 'segundo'}</div>
                            <div class="upgrade-cost">${upgrade.cost} cr√©ditos</div>
                        </div>
                    </div>
                    <button class="upgrade-button" onclick="showUpgradeModal('${activeTab}', ${index})">Mejorar</button>
                `;
                container.appendChild(item);
            });
        }

        function showUpgradeModal(tab, index) {
            const upgrade = upgradesData[tab][index];
            document.getElementById('modalTitle').textContent = upgrade.name;
            document.getElementById('modalIcon').textContent = upgrade.image;
            document.getElementById('modalEffect').textContent = `+${upgrade.effect} cr√©ditos/${upgrade.type === 'click' ? 'click' : 'segundo'}`;
            document.getElementById('modalCost').textContent = `Costo: ${upgrade.cost} cr√©ditos`;
            document.getElementById('upgradeModal').style.display = 'block';

            document.getElementById('confirmUpgrade').onclick = function() {
                if (credits >= upgrade.cost) {
                    credits -= upgrade.cost;
                    upgrade.count++;
                    if (upgrade.type === 'click') {
                        creditsPerClick += upgrade.effect;
                    } else {
                        creditsPerSecond += upgrade.effect;
                    }
                    // Increase cost and effect for next purchase
                    upgrade.cost = Math.floor(upgrade.baseCost * Math.pow(1.15, upgrade.count));
                    upgrade.effect = Math.floor(upgrade.baseEffect * Math.pow(1.05, upgrade.count));
                    updateCredits();
                    createUpgradeItems(); // Refresh upgrade list
                    document.getElementById('upgradeModal').style.display = 'none';
                } else {
                    alert('No tienes suficientes cr√©ditos para esta mejora.');
                }
            };
        }

        document.querySelector('.close').onclick = function() {
            document.getElementById('upgradeModal').style.display = 'none';
        }

        window.onclick = function(event) {
            if (event.target == document.getElementById('upgradeModal')) {
                document.getElementById('upgradeModal').style.display = 'none';
            }
        }

        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                createUpgradeItems();
            });
        });

        document.getElementById('clickerArea').addEventListener('click', function() {
            credits += creditsPerClick;
            updateCredits();
        });

        // Inicializaci√≥n
        createUpgradeItems();
        updateCredits();

        // Incremento pasivo de cr√©ditos
        setInterval(() => {
            credits += creditsPerSecond;
            updateCredits();
        }, 1000);
    </script>
</body>
</html>
